@{
    ViewBag.Title = "Home Page";
}
<script src="~/Scripts/jquery.signalR-2.2.0.min.js"></script>
<!--Reference the autogenerated SignalR hub script. -->
<script src="~/signalr/hubs"></script>
<script>
    $(function () {
        var chat = $.connection.signalRChatHub;
        $.connection.hub.start().done(function () {
            chat.server.onConnection($('#displayname').val());
        });
        chat.client.joinedRoom = function (onlineUsers) {
            var html = "";

            if (onlineUsers.length > 19) {
                $("#message").html("Oops!!! You cannot enter into chat room as it has exceeded its maximum limit of 20. Please wait... ")
                $("#btnOk").addClass('hide')
                $(".form-inline").addClass('hide')
            }
        }
        chat.client.leftRoom = function (onlineUsers) {
            var html = "";
            $("#message").html('')
            $("#btnOk").removeClass('hide')
            $(".form-inline").removeClass('hide')
        }
    });
</script>

<div class="jumbotron">
    @using (Html.BeginForm("Login", "home", FormMethod.Post))
    {
        <h3 id="message"></h3>
        <h1>Skarpline Chat</h1>
        <div class="form-inline">
            Enter your username :   <input type="text" id="username" class="form-control" name="username" />
        </div>
        <div>
            <input class="btn btn-primary " id="btnOk" type="submit" value="Login" />
        </div>
    }
</div>

<div class="row">
</div>